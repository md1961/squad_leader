<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>SVG Background Image</title>

        <style>
            body {
                margin-left: 50px;
            }
            text {
                background-color: white;
            }
            .unit {
                color: white;
                background-color: darkgreen;
                font-size: 10px;
                padding: 3px 3px;
                cursor: pointer;
            }
        </style>

        <script src="js/init.js" /></script>

        <script src="js/svg_element.js"></script>
        <script src="js/svg_util.js"></script>

        <script src="js/find_hex_from_coord.js" /></script>

        <script src="js/mousemove_modes.js" /></script>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const svg = document.getElementById("map");

                const unit = new Unit('6-2-8:3', 450, 230);
                const elemUnit = unit.toDOM();
                svg.appendChild(elemUnit);

                document.querySelectorAll('.unit').forEach(unit => {
                    unit.addEventListener('click', (e) => {
                        console.log('CLICKED!');
                    });
                });
            });

            document.addEventListener("DOMContentLoaded", function() {
                const svg = document.getElementById("map");

                const mode = new ModeLineOfFire(svg);

                let isDragging = false;

                addEventListenersForMouseDragFor(svg);
            });
        </script>
    </head>

    <body>
        <div>
            <input type="radio" id="normal" name="mode" value="normal" checked />
            <label for="normal">Normal</label>
            <input type="radio" id="line_of_fire" name="mode" value="line_of_fire" />
            <label for="line_of_fire">Line of Fire</label>
        </div>

        <svg id="map" width="938" height="645" xmlns="http://www.w3.org/2000/svg">
            <image
                href="map001.png"
                x="0" y="0"
                width="938" height="645"
                preserveAspectRatio="none" />

            <!-- Rectangle, to anchor coordinate system -->
            <rect
                x="57" y="65" width="843" height="548"
                fill="rgba(0, 0, 255, 0)" stroke="black" stroke-width="0" />
        </svg>
    </body>
</html>
